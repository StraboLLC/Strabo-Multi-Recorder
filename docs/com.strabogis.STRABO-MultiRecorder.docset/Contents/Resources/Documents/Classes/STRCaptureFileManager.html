<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>STRCaptureFileManager Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 789)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">STRABO-MultiRecorder </a></h1>
				<a id="developerHome" href="../index.html">Strabo, LLC</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">STRCaptureFileManager Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/defaultManager">&nbsp;&nbsp;&nbsp;&nbsp;+ defaultManager</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/allCapturesSorted:">&nbsp;&nbsp;&nbsp;&nbsp;- allCapturesSorted:</option>
	
	<option value="//api/name/capturesOnDate:sorted:">&nbsp;&nbsp;&nbsp;&nbsp;- capturesOnDate:sorted:</option>
	
	<option value="//api/name/deleteCapture:">&nbsp;&nbsp;&nbsp;&nbsp;- deleteCapture:</option>
	
	<option value="//api/name/deleteCaptureWithToken:">&nbsp;&nbsp;&nbsp;&nbsp;- deleteCaptureWithToken:</option>
	
	<option value="//api/name/localCaptureCount">&nbsp;&nbsp;&nbsp;&nbsp;- localCaptureCount</option>
	
	<option value="//api/name/newCaptureWithImageAtPath:attributes:">&nbsp;&nbsp;&nbsp;&nbsp;- newCaptureWithImageAtPath:attributes:</option>
	
	<option value="//api/name/recentCapturesWithLimit:">&nbsp;&nbsp;&nbsp;&nbsp;- recentCapturesWithLimit:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Class Methods">Class Methods</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Creating Captures">Creating Captures</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Getting Local Captures">Getting Local Captures</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Deleting Captures">Deleting Captures</a></span></li>
	
</ul></li>







<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/defaultManager">defaultManager</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/allCapturesSorted:">allCapturesSorted:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/capturesOnDate:sorted:">capturesOnDate:sorted:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteCapture:">deleteCapture:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteCaptureWithToken:">deleteCaptureWithToken:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/localCaptureCount">localCaptureCount</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/newCaptureWithImageAtPath:attributes:">newCaptureWithImageAtPath:attributes:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/recentCapturesWithLimit:">recentCapturesWithLimit:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="STRCaptureFileManager Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">STRCaptureFileManager Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">STRCaptureFileManager.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>You should use an STRCaptureFileManager to access files stored on the device. This class provides methods for deleting, searching, and manipulating Strabo captures.</p>

<p>Create a new STRCaptureFileManager by using the class method <a href="#//api/name/defaultManager">defaultManager</a> to ensure the proper default setup of the object.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Class Methods" name="task_Class Methods"></a>
						<h3 class="subsubtitle task-title">Class Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/defaultManager">+&nbsp;defaultManager</a></code>
		<span class="tooltip"><p>Creates an instance of a STRCaptureFileManager.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Creating Captures" name="task_Creating Captures"></a>
						<h3 class="subsubtitle task-title">Creating Captures</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/newCaptureWithImageAtPath:attributes:">&ndash;&nbsp;newCaptureWithImageAtPath:attributes:</a></code>
		<span class="tooltip"><p>Creates a capture object using the media specified.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Getting Local Captures" name="task_Getting Local Captures"></a>
						<h3 class="subsubtitle task-title">Getting Local Captures</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/allCapturesSorted:">&ndash;&nbsp;allCapturesSorted:</a></code>
		<span class="tooltip"><p>Searches for all of the captures that exist on the device.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/recentCapturesWithLimit:">&ndash;&nbsp;recentCapturesWithLimit:</a></code>
		<span class="tooltip"><p>Searches for and returns the most recent captures by date.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/capturesOnDate:sorted:">&ndash;&nbsp;capturesOnDate:sorted:</a></code>
		<span class="tooltip"><p>Searches for and returns captures taken on a given date.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/localCaptureCount">&ndash;&nbsp;localCaptureCount</a></code>
		<span class="tooltip"><p>Counts the number of local captures.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Deleting Captures" name="task_Deleting Captures"></a>
						<h3 class="subsubtitle task-title">Deleting Captures</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteCapture:">&ndash;&nbsp;deleteCapture:</a></code>
		<span class="tooltip"><p>Deletes the passed capture object from the filesystem.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteCaptureWithToken:">&ndash;&nbsp;deleteCaptureWithToken:</a></code>
		<span class="tooltip"><p>Deletes the capture object from the filesystem specified by the passed token.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/defaultManager" title="defaultManager"></a>
	<h3 class="subsubtitle method-title">defaultManager</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates an instance of a STRCaptureFileManager.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (STRCaptureFileManager *)defaultManager</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>STRCaptureFileManager A capture file manager set up with default filemanagers, etc.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Creates an instance of a STRCaptureFileManager.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">STRCaptureFileManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/allCapturesSorted:" title="allCapturesSorted:"></a>
	<h3 class="subsubtitle method-title">allCapturesSorted:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Searches for all of the captures that exist on the device.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSArray *)allCapturesSorted:(BOOL)<em>sorted</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>sorted</em></dt>
			<dd><p>If you pass the parameter YES, the captures are returned sorted by date captured with the most recent first.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>NSArray An array of <a href="../Classes/STRCapture.html">STRCapture</a> objects, all of which represent existing captures on the device.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Searches for all of the captures that exist on the device.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">STRCaptureFileManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/capturesOnDate:sorted:" title="capturesOnDate:sorted:"></a>
	<h3 class="subsubtitle method-title">capturesOnDate:sorted:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Searches for and returns captures taken on a given date.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSArray *)capturesOnDate:(NSDate *)<em>date</em> sorted:(BOOL)<em>sorted</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>date</em></dt>
			<dd><p>The date to match with the capture dates of the captures.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>sorted</em></dt>
			<dd><p>If you pass the value YES for this parameter, the captures are returned sorted by date captured with the most recent capture first. Passing nil or NO will result in possibly unsorted captures.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>NSArray An array of <a href="../Classes/STRCapture.html">STRCapture</a> objects taken on the same day of the date specified.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Searches for and returns captures taken on a given date.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">STRCaptureFileManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/deleteCapture:" title="deleteCapture:"></a>
	<h3 class="subsubtitle method-title">deleteCapture:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Deletes the passed capture object from the filesystem.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)deleteCapture:(STRCapture *)<em>capture</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>capture</em></dt>
			<dd><p>The <a href="../Classes/STRCapture.html">STRCapture</a> object to delete from the filesystem.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>BOOL YES if successful and NO if deletion failed.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Deletes the passed capture object from the filesystem.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">STRCaptureFileManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/deleteCaptureWithToken:" title="deleteCaptureWithToken:"></a>
	<h3 class="subsubtitle method-title">deleteCaptureWithToken:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Deletes the capture object from the filesystem specified by the passed token.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)deleteCaptureWithToken:(NSString *)<em>token</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>token</em></dt>
			<dd><p>The <a href="../Classes/STRCapture.html">STRCapture</a> <a href="[STRCapture](../Classes/STRCapture.html">token</a> token) associated with the track to delete.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>BOOL YES if successful and NO if deletion failed.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Deletes the capture object from the filesystem specified by the passed token.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">STRCaptureFileManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/localCaptureCount" title="localCaptureCount"></a>
	<h3 class="subsubtitle method-title">localCaptureCount</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Counts the number of local captures.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSNumber *)localCaptureCount</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>NSNumber The number of captures stored locally.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Counts the number of local captures.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">STRCaptureFileManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/newCaptureWithImageAtPath:attributes:" title="newCaptureWithImageAtPath:attributes:"></a>
	<h3 class="subsubtitle method-title">newCaptureWithImageAtPath:attributes:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates a capture object using the media specified.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (STRCapture *)newCaptureWithImageAtPath:(NSString *)<em>mediaPath</em> attributes:(NSDictionary *)<em>attributes</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>mediaPath</em></dt>
			<dd><p>The path to the image on the device.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>attributes</em></dt>
			<dd><p>A dictionary containing attributes associated with the image. Dictionary keys are of type STRCaptureAttribute and the associated object values are described in the table above.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p><a href="../Classes/STRCapture.html">STRCapture</a> A <a href="../Classes/STRCapture.html">STRCapture</a> object created from the new locally saved media file and associated data. Returns nil if there was an error.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Creates a capture object using the media specified.</p>

<p>This is useful when trying to create a capture object from an image in the photo roll or with an image captured with some other application. You pass a local path pointing to the JPG image, as well as a couple of attributes, and the method builds and saves a capture object locally.</p>

<p>The attributes dictionary contains some geodata information about the image. This is the information that is used to populate local files from which the <a href="../Classes/STRCapture.html">STRCapture</a> object is built. This dictionary has a set of predefined keys of type STRCaptureAttribute. They are outlined below:</p>

<table>
    <tr style="font-weight: bold;">
        <td>Key</td>
        <td>Associated Value Object Type</td>
        <td>Description</td>
        <td>Required Value?</td>
    </tr>
    <tr>
        <td>STRCaptureAttributeLatitude</td>
        <td>NSNumber</td>
        <td>The latitude value of the location of the image.</td>
        <td>YES</td>
    </tr>
    <tr>
        <td>STRCaptureAttributeLongitude</td>
        <td>NSNumber</td>
        <td>The longitude value of the location of the image.</td>
        <td>YES</td>
    </tr>
    <tr>
        <td>STRCaptureAttributeHeading</td>
        <td>NSNumber</td>
        <td>The heading value in degrees for the image.</td>
        <td>NO: The heading is set to 0 degrees (North) if no other heading is provided.</td>
    </tr>
    <tr>
        <td>STRCaptureAttributeDate</td>
        <td>NSDate</td>
        <td>The date that the image was taken.</td>
        <td>NO: The date is set to the current date if no other date is provided.</td>
    </tr>
    <tr>
        <td>STRCaptureAttributeTitle</td>
        <td>NSString</td>
        <td>The title of the image.</td>
        <td>NO: The title is set to "Untitled Capture" if none is provided.</td>
    </tr>
</table>

	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">STRCaptureFileManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/recentCapturesWithLimit:" title="recentCapturesWithLimit:"></a>
	<h3 class="subsubtitle method-title">recentCapturesWithLimit:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Searches for and returns the most recent captures by date.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSArray *)recentCapturesWithLimit:(NSNumber *)<em>limit</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>limit</em></dt>
			<dd><p>The number of recent captures to return.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>NSArray An array of <a href="../Classes/STRCapture.html">STRCapture</a> objects which represent existing local captures. The array is sorted by date with most recent first.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Searches for and returns the most recent captures by date.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">STRCaptureFileManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2012 Strabo, LLC. All rights reserved. (Last updated: 2012-08-23)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 789)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>